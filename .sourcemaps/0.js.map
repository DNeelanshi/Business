{"version":3,"sources":["../../src/pages/editprofile/editprofile.module.ts","../../src/pages/editprofile/editprofile.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACA;AAUhD;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QARjC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,qEAAe;aAChB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,qEAAe,CAAC;aAC1C;SACF,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZM;AACmE;AACvC;AACT;AACL;AACR;AACX;AACyD;AACtD;AAEtC;;;;;GAKG;AAOH;IAOI,yBACW,OAAsB,EACtB,SAAoB,EACpB,MAAc,EACd,eAAsC,EACtC,WAAwB,EACxB,UAAsB,EACtB,MAAc,EACd,IAAU,EACV,MAAc,EACd,WAA8B;QAT9B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,WAAM,GAAN,MAAM,CAAQ;QACd,oBAAe,GAAf,eAAe,CAAuB;QACtC,gBAAW,GAAX,WAAW,CAAa;QACxB,eAAU,GAAV,UAAU,CAAY;QACtB,WAAM,GAAN,MAAM,CAAQ;QACd,SAAI,GAAJ,IAAI,CAAM;QACV,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAmB;QAZzC,gBAAW,GAAW,yBAAyB,CAAC;QAc7C,KAAK,CAAC,kBAAkB,CAAC,CAAC;QACzB,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACrB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACrC,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;YAClC,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAClC,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC3B,CAAC;IACL,CAAC;IAED,wCAAc,GAAd;QACI,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;QAC7C,KAAK,CAAC,OAAO,CAAC,CAAC;IACpB,CAAC;IACD,kCAAQ,GAAR;QACI,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACxB,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACtC,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,CAAC,CAAC;YACjC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAClE,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,CAAC,CAAC;SACrC,CAAC,CAAC;IAEP,CAAC;IACD,wCAAc,GAAd,UAAe,OAAoB;QAC/B,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,2EAA2E,CAAC,CAAC,CAAC,CAAC,CAAC;YACpH,MAAM,CAAC,EAAC,YAAY,EAAE,IAAI,EAAC,CAAC;QAChC,CAAC;IACL,CAAC;IACD,iCAAO,GAAP,UAAQ,KAAa;QACjB,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC5C,MAAM,CAAC,SAAS,CAAC,KAAK,IAAI,SAAS,CAAC,QAAQ,CAAC;IACjD,CAAC;IACD,4CAAkB,GAAlB;QAAA,iBA8BC;QA7BG,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YAC1C,KAAK,EAAE,cAAc;YACrB,OAAO,EAAE;gBACL;oBACI,IAAI,EAAE,QAAQ;oBACd,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACL,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wBAC9B,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;oBACxB,CAAC;iBACJ;gBACD;oBACI,IAAI,EAAE,SAAS;oBACf,OAAO,EAAE;wBACL,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;wBAC/B,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;oBACxB,CAAC;iBACJ;gBACD;oBACI,IAAI,EAAE,QAAQ;oBACd,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACL,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBAClC,CAAC;iBACJ;aACJ;SACJ,CAAC,CAAC;QAEH,WAAW,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IACM,qCAAW,GAAlB,UAAmB,IAAI;QAAvB,iBA4CC;QA3CG,IAAM,OAAO,GAAkB;YAC3B,OAAO,EAAE,EAAE;YACX,UAAU,EAAE,IAAI;YAChB,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ;YACrD,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI;YAC3C,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO;YACxC,SAAS,EAAE,IAAI;YACf,WAAW,EAAE,GAAG;YAChB,YAAY,EAAE,GAAG;YACjB,kBAAkB,EAAE,IAAI;SAC3B;QAED,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,SAAS;YAC3C,4DAA4D;YAC5D,kBAAkB;YAClB,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,KAAI,CAAC,WAAW,GAAG,yBAAyB,GAAG,SAAS,CAAC;YACzD,KAAI,CAAC,WAAW,GAAG,SAAS,CAAC;YAC7B,IAAI,OAAO,GAAG,KAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;YACvC,IAAI,QAAQ,GAAG;gBACX,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG;gBAC5D,eAAe,EAAE,SAAS;aAC7B;YACD,IAAI,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;YACxD,IAAI,OAAO,GAAG,KAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAClC,OAAO,EAAE,SAAS;aACrB,CAAC,CAAC;YACH,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;gBACnB,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,UAAU,CAAC,GAAG,GAAG,wBAAwB,EAAE,UAAU,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC,SAAS,CAAC,kBAAQ;oBACzH,mCAAmC;oBACnC,OAAO,CAAC,OAAO,EAAE,CAAC;oBAClB,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;wBAC1B,oBAAoB;wBACpB,yCAAyC;wBACzC,mCAAmC;wBACnC,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;oBACjD,CAAC;gBACL,CAAC,CAAC;YACN,CAAC,CAAC;QACN,CAAC,EAAE,UAAC,GAAG;YACH,eAAe;YACf,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;IACP,CAAC;IAID,iCAAO,GAAP;QAAA,iBA4BC;QA3BG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACjE,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;QACvC,IAAI,QAAQ,GAAG;YACX,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG;SAC/D;QACD,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,GAAG,gBAAgB,EAAE,UAAU,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC,SAAS,CAAC,kBAAQ;YACjH,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;gBAC1B,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;gBACxB,KAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,IAAI,CAAC;gBACjC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBACvC,EAAE,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;oBAC5B,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBACxB,KAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;gBACjD,CAAC;gBACD,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBACrB,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;gBAC9B,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;gBAC7C,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC;gBAClE,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC;oBACxB,IAAI,EAAE,IAAI;oBACV,KAAK,EAAE,QAAQ,CAAC,IAAI,CAAC,KAAK;oBAC1B,KAAK,EAAE,QAAQ,CAAC,IAAI,CAAC,YAAY;iBACpC,CAAC,CAAC;YACP,CAAC;QACL,CAAC,CAAC;IACN,CAAC;IACD,mCAAS,GAAT,UAAU,SAAS;QACf,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,SAAS,CAAC,CAAC;QAChD,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,UAAU,CAAC;YACP,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;YACzC,SAAS,CAAC,QAAQ,EAAE,CAAC;QACzB,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAED,qCAAW,GAAX,UAAY,WAAW;QAAvB,iBAkDC;QAjDG,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAC1B,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;QACvC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC;QAEzB,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QAC1B,CAAC;QACD,IAAI,IAAI,CAAC;QACT,IAAI,QAAa,CAAC;QAClB,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;QACjD,EAAE,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,IAAI,GAAG,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACzC,QAAQ,GAAG;gBACP,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG;gBAC5D,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC;gBAClB,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC;gBACjB,YAAY,EAAE,WAAW,CAAC,KAAK,CAAC,KAAK;aAExC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,QAAQ,GAAG;gBACP,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG;gBAC5D,SAAS,EAAE,WAAW,CAAC,KAAK,CAAC,IAAI;gBACjC,QAAQ,EAAE,GAAG;gBACb,YAAY,EAAE,WAAW,CAAC,KAAK,CAAC,KAAK;aAExC;QACL,CAAC;QAED,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtB,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QACxD,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YAClC,OAAO,EAAE,SAAS;SACrB,CAAC,CAAC;QACH,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;YACnB,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,UAAU,CAAC,GAAG,GAAG,qBAAqB,EAAE,UAAU,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC,SAAS,CAAC,kBAAQ;gBACtH,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBACtB,OAAO,CAAC,OAAO,EAAE,CAAC;gBAClB,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;oBAC1B,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;oBAC7C,KAAI,CAAC,MAAM,CAAC,YAAY,CAAC,SAAS,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;oBACtD,YAAY,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;oBACnE,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,4DAAQ,CAAC,CAAC;gBAChC,CAAC;YACL,CAAC,CAAC;QACN,CAAC,CAAC;IACN,CAAC;IAEC,mCAAS,GAAT;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,0FAAkB,CAAC,CAAC;IAC1C,CAAC;IA/NQ,eAAe;QAJ3B,gEAAS,CAAC;YACP,QAAQ,EAAE,kBAAkB;WACG;SAClC,CAAC;6EASmC;YACX,qEAAS;YACZ,4EAAM;YACG,oEAAqB;YACzB,0EAAW;YACZ,kEAAU;YACd,4DAAM;YACR,6DAAI;YACF,wEAAM;YACD,YAAiB;OAjBhC,eAAe,CAgO3B;IAAD,CAAC;AAAA;SAhOY,eAAe,e","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditprofilePage } from './editprofile';\n\n@NgModule({\n  declarations: [\n    EditprofilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EditprofilePage),\n  ],\n})\nexport class EditprofilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/editprofile/editprofile.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams, ActionSheetController, Events, LoadingController} from 'ionic-angular';\nimport {ChangepasswordPage} from '../changepassword/changepassword';\nimport {Camera, CameraOptions} from '@ionic-native/camera';\nimport {Appsetting} from '../../providers/appsetting';\nimport {Common} from '../../providers/common';\nimport {Http} from '@angular/http';\nimport {FormsModule, FormGroup, FormBuilder, Validators, FormControl} from '@angular/forms';\nimport {HomePage} from '../home/home';\n\n/**\n * Generated class for the EditprofilePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n    selector: 'page-editprofile',\n    templateUrl: 'editprofile.html',\n})\nexport class EditprofilePage {\n    profiledata: any;\n    click: boolean;\n    Editprofile: FormGroup;\n    ImageToSend: any;\n    base64Image: string = 'assets/imgs/profile.png';\n\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public camera: Camera,\n        public actionSheetCtrl: ActionSheetController,\n        public formBuilder: FormBuilder,\n        public appsetting: Appsetting,\n        public common: Common,\n        public http: Http,\n        public events: Events,\n        public loadingCtrl: LoadingController\n    ) {\n       alert('ajksdhfksajdhjks');\n        console.log('rahul');\n        console.log(window.navigator.onLine);\n        if (window.navigator.onLine == true) {\n            console.log('You are online');\n        } else {\n            this.common.tryagain();\n        }\n    }\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad EditprofilePage');\n         alert('herkh');\n    }\n    ngOnInit(): any {\n        console.log('ngOnInit');\n        this.getUser();\n        this.Editprofile = this.formBuilder.group({\n            name: ['', [Validators.required]],\n            email: ['', [Validators.required, this.emailValidator.bind(this)]],\n            phone: ['', [Validators.required]],\n        });\n\n    }\n    emailValidator(control: FormControl): {[s: string]: boolean} {\n        if (!(control.value.toLowerCase().match('^[a-z0-9]+(\\.[_a-z0-9]+)+([@{1}])+(\\.[a-z0-9-]+)+([.{1}])(\\.[a-z]{1,15})$'))) {\n            return {invalidEmail: true};\n        }\n    }\n    isValid(field: string) {\n        let formField = this.Editprofile.get(field);\n        return formField.valid || formField.pristine;\n    }\n    presentActionSheet() {\n        let actionSheet = this.actionSheetCtrl.create({\n            title: 'Choose image',\n            buttons: [\n                {\n                    text: 'Camera',\n                    role: 'submit',\n                    handler: () => {\n                        console.log('submit clicked');\n                        this.chooseImage(1);\n                    }\n                },\n                {\n                    text: 'Gallery',\n                    handler: () => {\n                        console.log('Gallery clicked');\n                        this.chooseImage(0);\n                    }\n                },\n                {\n                    text: 'Cancel',\n                    role: 'cancel',\n                    handler: () => {\n                        console.log('Cancel clicked');\n                    }\n                }\n            ]\n        });\n\n        actionSheet.present();\n    }\n    public chooseImage(Type) {\n        const options: CameraOptions = {\n            quality: 10,\n            sourceType: Type,\n            destinationType: this.camera.DestinationType.DATA_URL,\n            encodingType: this.camera.EncodingType.JPEG,\n            mediaType: this.camera.MediaType.PICTURE,\n            allowEdit: true,\n            targetWidth: 800,\n            targetHeight: 800,\n            correctOrientation: true\n        }\n\n        this.camera.getPicture(options).then((imageData) => {\n            // imageData is either a base64 encoded string or a file URI\n            // If it's base64:\n            this.click = true;\n            this.base64Image = 'data:image/jpeg;base64,' + imageData;\n            this.ImageToSend = imageData;\n            let options = this.appsetting.header();\n            var postdata = {\n                user_id: JSON.parse(localStorage.getItem('CurrentUser'))._id,\n                profile_picture: imageData\n            }\n            var serialized = this.appsetting.serializeObj(postdata);\n            var Loading = this.loadingCtrl.create({\n                spinner: 'bubbles',\n            });\n            Loading.present().then(() => {\n                this.http.post(this.appsetting.url + 'users/user_profile_pic', serialized, options).map(res => res.json()).subscribe(response => {\n                    // alert(JSON.stringify(response));\n                    Loading.dismiss();\n                    if (response.status == true) {\n                        //alert('response');\n                        //console.log(response.data.profile_pic);\n                        //alert(response.data.profile_pic);\n                        this.events.publish('Loggedin', 'loginpage');\n                    }\n                })\n            })\n        }, (err) => {\n            // Handle error\n            console.log(err);\n        });\n    }\n\n  \n\n    getUser() {\n        console.log(JSON.parse(localStorage.getItem('CurrentUser'))._id);\n        let options = this.appsetting.header();\n        var postdata = {\n            user_id: JSON.parse(localStorage.getItem('CurrentUser'))._id,\n        }\n        var serialized = this.appsetting.serializeObj(postdata);\n        this.http.post(this.appsetting.url + 'users/userinfo', serialized, options).map(res => res.json()).subscribe(response => {\n            console.log(response);\n            if (response.status == true) {\n                console.log('userinfo');\n                this.profiledata = response.data;\n                console.log(response.data.profile_pic);\n                if (response.data.profile_pic) {\n                    this.base64Image = null;\n                    this.base64Image = response.data.profile_pic;\n                }\n                console.log('image');\n                console.log(this.base64Image);\n                this.events.publish('Loggedin', 'loginpage');\n                var name = response.data.firstname + ' ' + response.data.lastname;\n                this.Editprofile.patchValue({\n                    name: name,\n                    email: response.data.email,\n                    phone: response.data.phone_number,\n                });\n            }\n        })\n    }\n    doRefresh(refresher) {\n        console.log('Begin async operation', refresher);\n        this.getUser();\n        setTimeout(() => {\n            console.log('Async operation has ended');\n            refresher.complete();\n        }, 2000);\n    }\n\n    editProfile(profiledata) {\n        console.log('ajkshdfjak');\n        console.log(profiledata.value);\n        let options = this.appsetting.header();\n        if (this.click == true) {\n\n        } else {\n            this.ImageToSend = \"\";\n        }\n        var name;\n        var postdata: any;\n        console.log(profiledata.value.name.indexOf(' '));\n        if (profiledata.value.name.indexOf(' ') != -1) {\n            console.log('if');\n            name = profiledata.value.name.split(' ');\n            postdata = {\n                user_id: JSON.parse(localStorage.getItem('CurrentUser'))._id,\n                firstname: name[0],\n                lastname: name[1],\n                phone_number: profiledata.value.phone\n\n            }\n        } else {\n            console.log('else');\n            postdata = {\n                user_id: JSON.parse(localStorage.getItem('CurrentUser'))._id,\n                firstname: profiledata.value.name,\n                lastname: '.',\n                phone_number: profiledata.value.phone\n\n            }\n        }\n\n        console.log(postdata);\n        var serialized = this.appsetting.serializeObj(postdata);\n        var Loading = this.loadingCtrl.create({\n            spinner: 'bubbles',\n        });\n        Loading.present().then(() => {\n            this.http.post(this.appsetting.url + 'users/profileupdate', serialized, options).map(res => res.json()).subscribe(response => {\n                console.log(response);\n                Loading.dismiss();\n                if (response.status == true) {\n                    this.events.publish('Loggedin', 'loginpage');\n                    this.common.presentAlert('Profile', response.message);\n                    localStorage.setItem('CurrentUser', JSON.stringify(response.data));\n                    this.navCtrl.push(HomePage);\n                }\n            })\n        })\n    }\n    \n      changepwd() {\n        this.navCtrl.push(ChangepasswordPage);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/editprofile/editprofile.ts"],"sourceRoot":""}